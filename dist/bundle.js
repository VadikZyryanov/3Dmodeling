(()=>{"use strict";var e,t,n,o,a,c,r,l,u,i,s,d,m,v,f,p,g,y,h,E,L,S,q,I,b,B,w,k;I=document.querySelector("#timer-hours"),b=document.querySelector("#timer-minutes"),B=document.querySelector("#timer-seconds"),w=[(new Date).getDate()+1,(new Date).toLocaleString("en",{month:"long"}),(new Date).getFullYear()].join(" "),k=setInterval((function(){var e,t,n,o=(e=(new Date(w).getTime()-(new Date).getTime())/1e3,t=Math.floor(e%60),n=Math.floor(e/60%60),{timeRemaining:e,hours:Math.floor(e/60/60),minutes:n,seconds:t}),a=function(e,t){t.textContent=e<10?"0"+e:e};o.timeRemaining<=0?(clearInterval(k),I.textContent="00",b.textContent="00",B.textContent="00"):(a(o.hours,I),a(o.minutes,b),a(o.seconds,B))}),1e3),q=document.querySelector("menu"),document.addEventListener("click",(function(e){var t=e.target;t.closest(".menu")&&q.classList.add("active-menu"),(t.classList.contains("close-btn")||t.getAttribute("href"))&&q.classList.remove("active-menu"),t.closest("menu")||t.closest(".menu")||q.classList.remove("active-menu")})),E=document.querySelector(".popup"),L=document.querySelectorAll(".popup-btn"),S=document.querySelector(".popup-content"),L.forEach((function(e){e.addEventListener("click",(function(){if(document.documentElement.clientWidth>768){var e=-30;S.style.left="".concat(e,"%"),E.style.display="block";var t=setInterval((function(){e<=38?S.style.left="".concat(e,"%"):clearInterval(t),e++}),8)}else E.style.display="block"}))})),E.addEventListener("click",(function(e){var t=e.target;(t.classList.contains("popup")||t.classList.contains("popup-close"))&&(E.style.display="none")})),g=document.getElementsByTagName("a")[0],y=document.querySelector("menu").querySelectorAll("ul>li"),h=function(e){var t=document.querySelector(e),n=setInterval((function(){t.offsetTop-Math.floor(document.documentElement.scrollTop)>0?document.documentElement.scrollTop+=10:clearInterval(n)}),5)},g.addEventListener("click",(function(e){e.preventDefault();var t=g.getAttribute("href");h(t)})),y.forEach((function(e){var t=e.querySelector("a");t.addEventListener("click",(function(e){e.preventDefault();var n=t.getAttribute("href");h(n)}))})),v=document.querySelector(".service-header"),f=v.querySelectorAll(".service-header-tab"),p=document.querySelectorAll(".service-tab"),v.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab")).classList.contains("service-header-tab")&&f.forEach((function(e,n){e===t&&function(e){for(var t=0;t<p.length;t++)e===t?(f[t].classList.add("active"),p[t].classList.remove("d-none")):(f[t].classList.remove("active"),p[t].classList.add("d-none"))}(n)}))})),function(){var e,t=document.querySelector(".portfolio-content"),n=document.querySelectorAll(".portfolio-item"),o=0;!function(){for(var e=document.querySelector(".portfolio-dots"),t=0;t<=n.length-1;t++){var o=document.createElement("li");o.classList.add("dot"),0===t&&o.classList.add("dot-active"),e.append(o)}}();var a=document.querySelectorAll(".dot"),c=function(e,t,n){e[t].classList.remove(n)},r=function(e,t,n){e[t].classList.add(n)},l=function(){c(n,o,"portfolio-item-active"),c(a,o,"dot-active"),++o>=n.length&&(o=0),r(n,o,"portfolio-item-active"),r(a,o,"dot-active")},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e=setInterval(l,t)};t.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.matches(".portfolio-btn, .dot")&&(c(n,o,"portfolio-item-active"),c(a,o,"dot-active"),t.matches("#arrow-right")?o++:t.matches("#arrow-left")?o--:t.matches(".dot")&&a.forEach((function(e,n){e===t&&(o=n)})),o>=n.length&&(o=0),o<0&&(o=n.length-1),r(n,o,"portfolio-item-active"),r(a,o,"dot-active"))})),t.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(e)})),t.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&u()})),u()}(),document.querySelectorAll(".command__photo").forEach((function(e){var t=function(){var t=e.src,n=e.dataset.img;e.src=n,e.dataset.img=t};e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",t)})),e=document.getElementById("form1-name"),t=document.getElementById("form2-name"),n=document.getElementById("form3-name"),o=document.getElementById("form1-email"),a=document.getElementById("form2-email"),c=document.getElementById("form3-email"),r=document.getElementById("form1-phone"),l=document.getElementById("form2-phone"),u=document.getElementById("form3-phone"),i=document.getElementById("form2-message"),s=function(e){e.value=e.value.replace(/[^А-Яа-яЁё|\s]/g,""),e.addEventListener("blur",(function(){e.value=e.value.replace(/\s+/g," "),e.value=e.value.replace(/\-+/g,"-"),e.value=e.value.replace(/^-+|-+$/g,""),e.value=e.value.trim();for(var t=e.value.split(" "),n=0;n<t.length;n++)t[n]=t[n][0].toUpperCase()+t[n].slice(1).toLowerCase();e.value=t.join(" ")}))},d=function(e){e.value=e.value.replace(/[^\w|\@|\-|\_|\.|\!|\~|\*|\']/g,""),e.addEventListener("blur",(function(){e.value=e.value.replace(/\-+/g,"-"),e.value=e.value.replace(/^-+|-+$/g,"")}))},m=function(e){e.value=e.value.replace(/[^0-9|\+]/g,""),e.addEventListener("blur",(function(){e.value=e.value.replace(/\-+/g,"-"),e.value=e.value.replace(/^-+|-+$/g,"")}))},e.addEventListener("input",(function(){s(e)})),t.addEventListener("input",(function(){s(t)})),n.addEventListener("input",(function(){s(n)})),o.addEventListener("input",(function(){d(o)})),a.addEventListener("input",(function(){d(a)})),c.addEventListener("input",(function(){d(c)})),r.addEventListener("input",(function(){m(r)})),l.addEventListener("input",(function(){m(l)})),u.addEventListener("input",(function(){m(u)})),i.addEventListener("input",(function(){i.value=i.value.replace(/[^А-Яа-яЁё|\s|\d|.,!?]/g,"")})),i.addEventListener("blur",(function(){i.value=i.value.replace(/\s+/g," "),i.value=i.value.replace(/\-+/g,"-"),i.value=i.value.replace(/^-+|-+$/g,""),i.value=i.value.trim()})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),a=document.querySelector(".calc-day"),c=document.querySelector(".calc-count"),r=document.getElementById("total"),l=function(){var t=0,l=1,u=1,i=0,s=n.options[n.selectedIndex].value,d=+o.value;r.textContent=0,c.value>1&&(l+=(c.value-1)/10),a.value&&a.value<5?u*=2:a.value&&a.value<10&&(u*=1.5),s&&d&&(t=Math.floor(e*s*d*l*u));var m=setInterval((function(){var e;e=t,r.textContent<e?r.textContent=i++:clearInterval(m)}),1)};t.addEventListener("change",(function(e){var t=e.target;t!==n&&t!==o&&t!==a&&t!==c||l()}))}(),function(){var e=document.getElementById("form1"),t=document.getElementById("form2"),n=document.getElementById("form3"),o=document.createElement("section");o.className="section";var a=function(e){e.addEventListener("submit",(function(t){var n=e.querySelector(".form-name"),a=e.querySelector(".form-email"),r=e.querySelector(".form-phone");e.closest(".popup")?o.style.cssText="font-size = 2rem;\n                color: white;":o.style.cssText="font-size = 2rem;",o.innerHTML='\n                <div class="sk-rotating-plane"></div>\n            ',t.preventDefault(),e.append(o);var l=new FormData(e);setTimeout((function(){return c(l).then((function(e){if(200!==e.status)throw new Error("status network not 200");o.textContent="Спасибо, мы скоро с вами свяжемся.",n.value="",a.value="",r.value=""})).catch((function(e){o.textContent="Что-то пошло не так...",console.error(e)}))}),3e3)}))},c=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:e})};a(e),a(t),a(n)}()})();